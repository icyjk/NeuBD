<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui">


    <h:head>
        <title>Encuestas</title>
    </h:head>

	<h:body>
		<h:form id="encuesta">           
			<p:dataTable value="#{encuesta.listaEncuesta}" var="e" widgetVar="EncuestaTable"
            emptyMessage="Ninguna encuesta con esos filtros"
            filteredValue="#{encuesta.encuestaFiltro}">
            	
            		<f:facet name="header">
		                <div class="p-d-flex p-ai-center p-jc-between">
		                    <span>Lista de Encuesta</span>
		                    <p:inputText id="globalFilter" onkeyup="PF('EncuestaTable').filter()" style="width:10rem" placeholder="Introduzca keyword" />
		                </div>
		            </f:facet>
	
            	<p:column id="fechaEnvio" headerText="Fecha envio" sortBy="#{e.fecha_de_envio}" filterBy="#{e.fecha_de_envio}">
                 	<h:outputText id="salidafechaEnvio" value="#{e.fecha_de_envio}"/>
                </p:column>
                
            	<p:column id="ExpedientesEncuesta" headerText="Expediente" sortBy="#{e.expedientes.num_expediente}" filterBy="#{e.expedientes.num_expediente}">
                 	<h:outputText id="salidaExpedientesEncuesta" value="#{e.expedientes.num_expediente}"/>
                </p:column>
	
                <p:column>
                	<h:commandButton id="BtonModificarEncuesta" value="Modificar" action="#{encuesta.modificar(e)}"/>
                	<h:commandButton id="BtonEliminarEncuesta" value="Eliminar" action="#{encuesta.eliminar(e)}"/>
                </p:column>
                        
			</p:dataTable>
			
			<h:commandButton id="BtonInicioEncuesta" value="Inicio" action="index.xhtml"  />
		</h:form>
	</h:body>
	</html>
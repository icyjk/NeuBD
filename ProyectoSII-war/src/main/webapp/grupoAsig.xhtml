<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
 	  xmlns:p="http://primefaces.org/ui">


    <h:head>
        <title>Lista de grupos por Asignatura</title>
    </h:head>

	<h:body>
		<h:form id="gruposAsig">
			<p:growl id="msgs" showDetail="true"/>
			<p:dataTable value="#{gruposAsig.listaGrupoPorAsignatura}" var="g" widgetVar="GrupAsignaturaTable"
            emptyMessage="Ningun grupo asignatura con esos filtros"
            filteredValue="#{gruposAsig.grupoAsifFiltro}"
            editable="true"
            style="margin-bottom:20px">
            
            <p:ajax event="rowEdit" listener="#{gruposAsig.onRowEdit}" update=":gruposAsig:msgs"/>
            <p:ajax event="rowEditCancel" listener="#{gruposAsig.onRowCancel}" update=":gruposAsig:msgs"/>
            
					<f:facet name="header">
		                <div class="p-d-flex p-ai-center p-jc-between">
		                    <span>Lista de Grupos por Asignatura</span>
		                    <p:inputText id="globalFilter" onkeyup="PF('GrupAsignaturaTable').filter()" style="width:10rem" placeholder="Introduzca keyword" />
		                </div>
		            </f:facet>
				
            	<p:column headerText="Grupo" sortBy="#{g.grupo}" filterBy="#{g.grupo}">
                 	<h:outputText value="#{g.grupo}"/>
                </p:column>
                
            	<p:column headerText="Asignatura" sortBy="#{g.asignatura.nombre}" filterBy="#{g.asignatura.nombre}">
                 	<h:outputText value="#{g.asignatura.nombre}"/>
                </p:column>        
                	
            	<p:column headerText="Curso Academico" sortBy="#{g.curso_academico}" filterBy="#{g.curso_academico}">
                 	<h:outputText value="#{g.curso_academico}"/>
                </p:column>
                
                <p:column headerText="Ofertada" sortBy="#{g.oferta}" filterBy="#{g.oferta}">
                 	<p:cellEditor>
                    <f:facet name="output">
                        <h:outputText value="#{g.oferta}"/>
                    </f:facet>
                    <f:facet name="input">
                        <p:inputText id="modelInput" value="#{g.oferta}" style="width:100%"/>
                    </f:facet>
                	</p:cellEditor>
                </p:column>
				<p:column style="width:6rem">
                	<p:rowEditor editTitle="Edit Row" cancelTitle="Cancel Edit" saveTitle="Save Row"/>
           		</p:column>
				
			</p:dataTable>
			
		</h:form>
		<h:form>
			<h:commandButton action="index.xhtml" value="Volver" />
		</h:form>
	</h:body>
</html>
CREATE TABLE PRUEBA (NUM INTEGER NOT NULL, PRIMARY KEY (NUM))
CREATE TABLE ALUMNO (ID VARCHAR(255) NOT NULL, CP VARCHAR(255), DIRECCION VARCHAR(255), DNI VARCHAR(255), EMAIL_INSTITUCIONAL VARCHAR(255), EMAIL_PERSONAL VARCHAR(255), LOCALIDAD VARCHAR(255), MOVIL VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), PRIMER_APELLIDO VARCHAR(255), PROVINCIA VARCHAR(255), SEGUNDO_APELLIDO VARCHAR(255), TELEFONO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE USUARIO (ID VARCHAR(255) NOT NULL, CP VARCHAR(255), DIRECCION VARCHAR(255), DNI VARCHAR(255), EMAIL_PERSONAL VARCHAR(255), LOCALIDAD VARCHAR(255), MOVIL VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), PRIMER_APELLIDO VARCHAR(255), PROVINCIA VARCHAR(255), SEGUNDO_APELLIDO VARCHAR(255), TELEFONO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE ASIGNATURA (REFERENCIA INTEGER NOT NULL, CARACTER VARCHAR(255), CODIGO INTEGER, CREDITOS INTEGER, CREDITOS_PRACTICA INTEGER, CREDITOS_TEORIA INTEGER, CURSO INTEGER, DURACION INTEGER, IDIOMA_IMPARTICION VARCHAR(255), NOMBRE VARCHAR(255), OFERTADA TINYINT(1) default 0, UNIDAD_TEMPORAL INTEGER, TITULACION_CODIGO INTEGER, PRIMARY KEY (REFERENCIA))
CREATE TABLE ASIGNATURA_MATRICULA (ASIGNATURA_REFERENCIA INTEGER NOT NULL, GRUPO_ID VARCHAR(255), EXPEDIENTES_NUM_EXPEDIENTE BIGINT NOT NULL, CURSO_ACADEMICO VARCHAR(255) NOT NULL, PRIMARY KEY (ASIGNATURA_REFERENCIA, EXPEDIENTES_NUM_EXPEDIENTE, CURSO_ACADEMICO))
CREATE TABLE CENTRO (ID VARCHAR(255) NOT NULL, DIRECCION VARCHAR(255), NOMBRE VARCHAR(255), TLF_CONSERJERIA VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE CLASE (HORA_INICIO DATETIME NOT NULL, DIA VARCHAR(255) NOT NULL, HORA_FIN DATETIME, ASIGNATURAS_REFERENCIA INTEGER, GRUPO_ID VARCHAR(255) NOT NULL, PRIMARY KEY (HORA_INICIO, DIA, GRUPO_ID))
CREATE TABLE DATOS_ALUMNADO (DNI VARCHAR(255) NOT NULL, CP VARCHAR(255), CREDITOS_CF VARCHAR(255), CREDITOS_FB VARCHAR(255), CREDITOS_OB VARCHAR(255), CREDITOS_OP VARCHAR(255), CREDITOS_PE VARCHAR(255), CREDITOS_TF VARCHAR(255), CREDITOS_SUPERADOS VARCHAR(255), DIRECCION_NOT VARCHAR(255), EMAIL_INSTITUCIONAL VARCHAR(255), EMAIL_PERSONAL VARCHAR(255), FECHA_MATRICULA VARCHAR(255), GRUPOS_ASIGNADOS VARCHAR(255), LOCALIDAD_NOT VARCHAR(255), MOVIL INTEGER, NOMBRE VARCHAR(255), NOTA_MEDIA VARCHAR(255), NUM_EXPEDIENTE INTEGER, P_APELLIDO VARCHAR(255), PROVINCIA_NOT VARCHAR(255), S_APELLIDO VARCHAR(255), TELEFONO INTEGER, TURNO_PREFERENTE VARCHAR(255), PRIMARY KEY (DNI))
CREATE TABLE ENCUESTA (FECHA_DE_ENVIO DATETIME NOT NULL, EXPEDIENTES_NUM_EXPEDIENTE BIGINT, PRIMARY KEY (FECHA_DE_ENVIO))
CREATE TABLE EXPEDIENTES (NUM_EXPEDIENTE BIGINT NOT NULL, ACTIVO TINYINT(1) default 0, CREDITO_CF INTEGER, CREDITO_FB INTEGER, CREDITO_OB INTEGER, CREDITO_OP INTEGER, CREDITO_PE INTEGER, CREDITO_TF INTEGER, CREDITOS_SUPERADO INTEGER, NOTA_MEDIA_PROVISIONAL DOUBLE, ALUMNO_ID VARCHAR(255), TITULACIONES_CODIGO INTEGER, PRIMARY KEY (NUM_EXPEDIENTE))
CREATE TABLE GRUPO (ID VARCHAR(255) NOT NULL, ASIGNAR VARCHAR(255), CURSO VARCHAR(255), INGLES TINYINT(1) default 0, LETRA CHAR(1), PLAZAS INTEGER, TURNO_MAÃ‘ANA_TARDE VARCHAR(255), VISIBLE VARCHAR(255), GRUPOS_ID VARCHAR(255), TITULACION_CODIGO INTEGER, PRIMARY KEY (ID))
CREATE TABLE GRUPOS_POR_ASIGNATURA (CURSO_ACADEMICO INTEGER NOT NULL, OFERTA VARCHAR(255), ASIGNATURA_REFERENCIA INTEGER NOT NULL, GRUPO_ID VARCHAR(255) NOT NULL, PRIMARY KEY (CURSO_ACADEMICO, ASIGNATURA_REFERENCIA, GRUPO_ID))
CREATE TABLE MATRICULA (CURSO_ACADEMICO VARCHAR(255) NOT NULL, ESTADO VARCHAR(255), FECHA_MATRICULA DATETIME, NUEVO_INGRESO VARCHAR(255), NUM_ARCHIVO INTEGER, TURNO_PREFERENTE VARCHAR(255), EXPEDIENTES_NUM_EXPEDIENTE BIGINT NOT NULL, PRIMARY KEY (CURSO_ACADEMICO, EXPEDIENTES_NUM_EXPEDIENTE))
CREATE TABLE OFERTA_ASIGNATURAS (ID VARCHAR(255) NOT NULL, ASIGNATURA VARCHAR(255), CODIGO INTEGER, CREDITO_PRACTICA VARCHAR(255), CREDITO_TEORIA VARCHAR(255), CREDITO_TOTALES VARCHAR(255), CURSO INTEGER, DURACION INTEGER, OFERTADA VARCHAR(255), OTRO_IDIOMA VARCHAR(255), PLAZAS INTEGER, REFERENCIA VARCHAR(255), TITULACION VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE OPTATIVA (REFERENCIA INTEGER NOT NULL, CARACTER VARCHAR(255), CODIGO INTEGER, CREDITOS INTEGER, CREDITOS_PRACTICA INTEGER, CREDITOS_TEORIA INTEGER, CURSO INTEGER, DURACION INTEGER, IDIOMA_IMPARTICION VARCHAR(255), MENCION VARCHAR(255), NOMBRE VARCHAR(255), OFERTADA TINYINT(1) default 0, PLAZAS INTEGER, UNIDAD_TEMPORAL INTEGER, TITULACION_CODIGO INTEGER, PRIMARY KEY (REFERENCIA))
CREATE TABLE PROFESOR (ID VARCHAR(255) NOT NULL, CP VARCHAR(255), DEPARTAMENTO VARCHAR(255), DESPACHO VARCHAR(255), DIRECCION VARCHAR(255), DNI VARCHAR(255), EMAIL_PERSONAL VARCHAR(255), LOCALIDAD VARCHAR(255), MOVIL VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), PRIMER_APELLIDO VARCHAR(255), PROVINCIA VARCHAR(255), SEGUNDO_APELLIDO VARCHAR(255), TELEFONO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE SECRETARIO (ID VARCHAR(255) NOT NULL, CP VARCHAR(255), DIRECCION VARCHAR(255), DNI VARCHAR(255), EMAIL_PERSONAL VARCHAR(255), LOCALIDAD VARCHAR(255), MOVIL VARCHAR(255), NOMBRE VARCHAR(255), PASSWORD VARCHAR(255), PRIMER_APELLIDO VARCHAR(255), PROVINCIA VARCHAR(255), SEGUNDO_APELLIDO VARCHAR(255), TELEFONO VARCHAR(255), PRIMARY KEY (ID))
CREATE TABLE TITULACION (CODIGO INTEGER NOT NULL, CREDITOS INTEGER, NOMBRE VARCHAR(255), PRIMARY KEY (CODIGO))
CREATE TABLE jnd_asignatura_profesor (asignatura_fk INTEGER NOT NULL, profesor_fk VARCHAR(255) NOT NULL, PRIMARY KEY (asignatura_fk, profesor_fk))
CREATE TABLE jnd_centro_titulacion (centro_fk VARCHAR(255) NOT NULL, titulacion_fk INTEGER NOT NULL, PRIMARY KEY (centro_fk, titulacion_fk))
CREATE TABLE ENCUESTA_GRUPOS_POR_ASIGNATURA (encuestas_FECHA_DE_ENVIO DATETIME NOT NULL, CURSO_ACADEMICO INTEGER NOT NULL, ASIGNATURA_REFERENCIA INTEGER NOT NULL, GRUPO_ID VARCHAR(255) NOT NULL, PRIMARY KEY (encuestas_FECHA_DE_ENVIO, CURSO_ACADEMICO, ASIGNATURA_REFERENCIA, GRUPO_ID))
CREATE TABLE MATRICULA_ASIGNATURA_MATRICULA (CURSO_ACADEMICO VARCHAR(255) NOT NULL, EXPEDIENTES_NUM_EXPEDIENTE BIGINT NOT NULL, ASIGNATURA_REFERENCIA INTEGER NOT NULL, PRIMARY KEY (CURSO_ACADEMICO, EXPEDIENTES_NUM_EXPEDIENTE, ASIGNATURA_REFERENCIA))
CREATE TABLE MATRICULA_ASIGNATURA (CURSO_ACADEMICO VARCHAR(255) NOT NULL, EXPEDIENTES_NUM_EXPEDIENTE BIGINT NOT NULL, listado_asignaturas_REFERENCIA INTEGER NOT NULL, PRIMARY KEY (CURSO_ACADEMICO, EXPEDIENTES_NUM_EXPEDIENTE, listado_asignaturas_REFERENCIA))
ALTER TABLE ASIGNATURA ADD CONSTRAINT FK_ASIGNATURA_TITULACION_CODIGO FOREIGN KEY (TITULACION_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE ASIGNATURA_MATRICULA ADD CONSTRAINT FK_ASIGNATURA_MATRICULA_CURSO_ACADEMICO FOREIGN KEY (CURSO_ACADEMICO, EXPEDIENTES_NUM_EXPEDIENTE) REFERENCES MATRICULA (CURSO_ACADEMICO, EXPEDIENTES_NUM_EXPEDIENTE)
ALTER TABLE ASIGNATURA_MATRICULA ADD CONSTRAINT FK_ASIGNATURA_MATRICULA_GRUPO_ID FOREIGN KEY (GRUPO_ID) REFERENCES GRUPO (ID)
ALTER TABLE CLASE ADD CONSTRAINT FK_CLASE_GRUPO_ID FOREIGN KEY (GRUPO_ID) REFERENCES GRUPO (ID)
ALTER TABLE ENCUESTA ADD CONSTRAINT FK_ENCUESTA_EXPEDIENTES_NUM_EXPEDIENTE FOREIGN KEY (EXPEDIENTES_NUM_EXPEDIENTE) REFERENCES EXPEDIENTES (NUM_EXPEDIENTE)
ALTER TABLE EXPEDIENTES ADD CONSTRAINT FK_EXPEDIENTES_ALUMNO_ID FOREIGN KEY (ALUMNO_ID) REFERENCES ALUMNO (ID)
ALTER TABLE EXPEDIENTES ADD CONSTRAINT FK_EXPEDIENTES_TITULACIONES_CODIGO FOREIGN KEY (TITULACIONES_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE GRUPO ADD CONSTRAINT FK_GRUPO_TITULACION_CODIGO FOREIGN KEY (TITULACION_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE GRUPO ADD CONSTRAINT FK_GRUPO_GRUPOS_ID FOREIGN KEY (GRUPOS_ID) REFERENCES GRUPO (ID)
ALTER TABLE GRUPOS_POR_ASIGNATURA ADD CONSTRAINT FK_GRUPOS_POR_ASIGNATURA_GRUPO_ID FOREIGN KEY (GRUPO_ID) REFERENCES GRUPO (ID)
ALTER TABLE MATRICULA ADD CONSTRAINT FK_MATRICULA_EXPEDIENTES_NUM_EXPEDIENTE FOREIGN KEY (EXPEDIENTES_NUM_EXPEDIENTE) REFERENCES EXPEDIENTES (NUM_EXPEDIENTE)
ALTER TABLE OPTATIVA ADD CONSTRAINT FK_OPTATIVA_TITULACION_CODIGO FOREIGN KEY (TITULACION_CODIGO) REFERENCES TITULACION (CODIGO)
ALTER TABLE jnd_centro_titulacion ADD CONSTRAINT FK_jnd_centro_titulacion_centro_fk FOREIGN KEY (centro_fk) REFERENCES CENTRO (ID)
ALTER TABLE jnd_centro_titulacion ADD CONSTRAINT FK_jnd_centro_titulacion_titulacion_fk FOREIGN KEY (titulacion_fk) REFERENCES TITULACION (CODIGO)
ALTER TABLE ENCUESTA_GRUPOS_POR_ASIGNATURA ADD CONSTRAINT FK_ENCUESTA_GRUPOS_POR_ASIGNATURA_CURSO_ACADEMICO FOREIGN KEY (CURSO_ACADEMICO, ASIGNATURA_REFERENCIA, GRUPO_ID) REFERENCES GRUPOS_POR_ASIGNATURA (CURSO_ACADEMICO, ASIGNATURA_REFERENCIA, GRUPO_ID)
ALTER TABLE ENCUESTA_GRUPOS_POR_ASIGNATURA ADD CONSTRAINT ENCUESTAGRUPOSPORASIGNATURAencuestasFECHA_DE_ENVIO FOREIGN KEY (encuestas_FECHA_DE_ENVIO) REFERENCES ENCUESTA (FECHA_DE_ENVIO)
ALTER TABLE MATRICULA_ASIGNATURA_MATRICULA ADD CONSTRAINT FK_MATRICULA_ASIGNATURA_MATRICULA_CURSO_ACADEMICO FOREIGN KEY (CURSO_ACADEMICO, EXPEDIENTES_NUM_EXPEDIENTE) REFERENCES MATRICULA (CURSO_ACADEMICO, EXPEDIENTES_NUM_EXPEDIENTE)
ALTER TABLE MATRICULA_ASIGNATURA_MATRICULA ADD CONSTRAINT MATRICULAASIGNATURA_MATRICULAASIGNATURA_REFERENCIA FOREIGN KEY (ASIGNATURA_REFERENCIA, EXPEDIENTES_NUM_EXPEDIENTE, CURSO_ACADEMICO) REFERENCES ASIGNATURA_MATRICULA (ASIGNATURA_REFERENCIA, EXPEDIENTES_NUM_EXPEDIENTE, CURSO_ACADEMICO)
CREATE TABLE SEQUENCE (SEQ_NAME VARCHAR(50) NOT NULL, SEQ_COUNT DECIMAL(38), PRIMARY KEY (SEQ_NAME))
INSERT INTO SEQUENCE(SEQ_NAME, SEQ_COUNT) values ('SEQ_GEN', 0)
